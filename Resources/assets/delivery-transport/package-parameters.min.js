executeFunc((function MultiplePackageParameters(){const form=document.forms.update_multiple_products_package_parameter_form;const submitButton=form.querySelector('button[type="submit"]');if(typeof form==="undefined"){return false}let $object_category=document.getElementById(form.name+"_product_category");if($object_category===null){return false}new NiceSelect($object_category,{searchable:true});$object_category.addEventListener("change",(function(){changeObjectCategory(form)}),false);async function changeObjectCategory(forms){disabledElementsForm(forms);const data=new FormData(forms);data.delete(forms.name+"[_token]");await fetch(forms.action,{method:forms.method,cache:"no-cache",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"},redirect:"follow",referrerPolicy:"no-referrer",body:data}).then((response=>{if(response.status!==200){enableElementsForm(forms);return false}return response.text()})).then((data=>{let $parser=new DOMParser;let $result=$parser.parseFromString(data,"text/html");let $offer=$result.getElementById(forms.name+"_product_offer");if($offer){document.getElementById(forms.name+"_product_offer").replaceWith($offer);new NiceSelect(document.getElementById(forms.name+"_product_offer"),{searchable:true})}let $variation=$result.getElementById(forms.name+"_product_variation");if($variation){document.getElementById(forms.name+"_product_variation").replaceWith($variation);new NiceSelect(document.getElementById(forms.name+"_product_variation"),{searchable:true})}let $modification=$result.getElementById(forms.name+"_product_modification");if($modification){document.getElementById(forms.name+"_product_modification").replaceWith($modification);new NiceSelect(document.getElementById(forms.name+"_product_modification"),{searchable:true})}enableElementsForm(forms)}))}submitButton.addEventListener("click",(async function(event){disabledElementsForm(form);if(true===form.checkValidity()){event.preventDefault();const formData=new FormData(form);formData.delete(form.name+"[_token]");await fetch(form.action,{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"},redirect:"follow",referrerPolicy:"no-referrer",body:formData}).then((response=>{if(response.status!==200){return false}return response.text()})).then((()=>{addPackageParameters(form)}))}enableElementsForm(form)}));async function addPackageParameters(forms){disabledElementsForm(forms);let formData=new FormData(forms);formData.append(forms.name+"[product_package_parameters_next]","");await fetch(forms.action,{method:forms.method,cache:"no-cache",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"},redirect:"follow",referrerPolicy:"no-referrer",body:formData}).then((response=>{if(response.status!==200){return false}return response.text()})).then((data=>{disabledElementsForm(forms);document.querySelector(".modal-dialog").parentElement.innerHTML=data;document.querySelector(`form[name="${form.name}"] button[type="submit"]`).addEventListener("click",(async function(event){if(document.getElementById(form.name+"_parameters_weight").value<=0||document.getElementById(form.name+"_parameters_width").value<=0||document.getElementById(form.name+"_parameters_height").value<=0||document.getElementById(form.name+"_parameters_package").value<=0){event.preventDefault();let $errorFormHandler='{ "type":"danger" , '+'"header":"'+"Изменение параметров упаковки"+'"  , '+'"message" : "Значения полей не должны быть отрицательными или пустыми" }';createToast(JSON.parse($errorFormHandler));enableElementsForm(form)}}));enableElementsForm(form)}))}return true}));